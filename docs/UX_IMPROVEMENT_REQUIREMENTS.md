# UI/UX ê°œì„  ê°œë°œ ìš”êµ¬ì„œ

> ì‘ì„±ì¼: 2025-01-XX  
> ìš°ì„ ìˆœìœ„: P0 (ì¦‰ì‹œ ê°œì„  í•„ìš”)  
> ì˜ˆìƒ ì´ ê³µìˆ˜: 3-4ì£¼

---

## ëª©ì°¨

1. [ê²€ìƒ‰ UX ê°œì„ ](#1-ê²€ìƒ‰-ux-ê°œì„ )
2. [ë©”ì¸í˜ì´ì§€ ì •ë³´ ê³¼ë¶€í•˜ í•´ê²°](#2-ë©”ì¸í˜ì´ì§€-ì •ë³´-ê³¼ë¶€í•˜-í•´ê²°)
3. [ëª¨ë°”ì¼ ê²½í—˜ ê°œì„ ](#3-ëª¨ë°”ì¼-ê²½í—˜-ê°œì„ )
4. [ë¶ë§ˆí¬ â†’ ì„ ì • í”Œë¡œìš° ê°œì„ ](#4-ë¶ë§ˆí¬--ì„ ì •-í”Œë¡œìš°-ê°œì„ )
5. [ë¦¬ë·° ë§ˆê°ì¼ ê³„ì‚° ê°œì„ ](#5-ë¦¬ë·°-ë§ˆê°ì¼-ê³„ì‚°-ê°œì„ )
6. [êµ¬ê¸€ ìº˜ë¦°ë” ì—°ë™ ì‹¤ìš©ì„± í–¥ìƒ](#6-êµ¬ê¸€-ìº˜ë¦°ë”-ì—°ë™-ì‹¤ìš©ì„±-í–¥ìƒ)
7. [ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë„ì…](#7-ì‚¬ìš©ì-í–‰ë™-ë¶„ì„-ë„ì…)
8. [KPI ì¸¡ì • ì‹œìŠ¤í…œ êµ¬ì¶•](#8-kpi-ì¸¡ì •-ì‹œìŠ¤í…œ-êµ¬ì¶•)

---

## 1. ê²€ìƒ‰ UX ê°œì„ 

### 1.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - ìì—°ì–´ ê²€ìƒ‰ê³¼ í•„í„° ê²€ìƒ‰ì´ ë™ì‹œì— ë…¸ì¶œë˜ì–´ ì‚¬ìš©ìê°€ í˜¼ë€ìŠ¤ëŸ¬ì›€
  - `SmartSearchBar`ì˜ ì‹¤ì‹œê°„ íŒŒì‹± ì •ë³´ê°€ ì…ë ¥ ì¤‘ ê³„ì† ë³€ê²½ë˜ì–´ ë°©í•´ë¨
  - ê²€ìƒ‰ ëª¨ë“œ ì „í™˜ì´ ë¶ˆëª…í™•í•¨

- **ì˜í–¥ë„**: ë†’ìŒ (í•µì‹¬ ê¸°ëŠ¥)
- **ì‚¬ìš©ì ë¶ˆë§Œ**: ê²€ìƒ‰ ê²°ê³¼ ì˜ˆì¸¡ ë¶ˆê°€, í•„í„°ì™€ ìì—°ì–´ ê²€ìƒ‰ì˜ ì¶©ëŒ

### 1.2 ê°œì„ ì•ˆ

#### ì˜µì…˜ A: í†µí•© ê²€ìƒ‰ ëª¨ë“œ (ê¶Œì¥)

**ê°œë…**: ìì—°ì–´ ê²€ìƒ‰ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ë˜, í•„í„°ëŠ” "ê³ ê¸‰ ê²€ìƒ‰"ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ í•¨

**UI êµ¬ì¡°**:
```
[í†µí•© ê²€ìƒ‰ì°½] â† ìì—°ì–´ + í•„í„° ìë™ ì¸ì‹
  â†“
[ê²€ìƒ‰ ê²°ê³¼]
  â†“
[í•„í„° ì ‘ê¸°/í¼ì¹˜ê¸° ë²„íŠ¼] â† í´ë¦­ ì‹œ í•„í„° íŒ¨ë„ í‘œì‹œ
```

**êµ¬í˜„ ì‚¬í•­**:

1. **ê²€ìƒ‰ì°½ í†µí•©**
   - ìì—°ì–´ ê²€ìƒ‰ê³¼ í•„í„°ë¥¼ í•˜ë‚˜ì˜ ê²€ìƒ‰ì°½ì—ì„œ ì²˜ë¦¬
   - ì…ë ¥ ì‹œ ìë™ìœ¼ë¡œ ìì—°ì–´ íŒŒì‹± + í•„í„° ì¶”ì¶œ
   - í•„í„°ëŠ” ê²€ìƒ‰ì°½ í•˜ë‹¨ì— íƒœê·¸ í˜•íƒœë¡œ í‘œì‹œ (ì œê±° ê°€ëŠ¥)

2. **ì‹¤ì‹œê°„ íŒŒì‹± ì •ë³´ ê°œì„ **
   - ì…ë ¥ ì¤‘ íŒŒì‹± ì •ë³´ë¥¼ ì¦‰ì‹œ í‘œì‹œí•˜ì§€ ì•ŠìŒ
   - ëŒ€ì‹  ê²€ìƒ‰ì°½ í•˜ë‹¨ì— "ê²€ìƒ‰ íŒíŠ¸" í˜•íƒœë¡œ ì œì•ˆë§Œ í‘œì‹œ
   - ì˜ˆ: "ğŸ’¡ 'ê°•ë‚¨ ë§›ì§‘'ì„ ì°¾ê³  ê³„ì‹ ê°€ìš”? â†’ [í•„í„° ì ìš©]"

3. **í•„í„° ì ‘ê·¼ì„± ê°œì„ **
   - ê¸°ë³¸: í•„í„° ìˆ¨ê¹€
   - "ê³ ê¸‰ ê²€ìƒ‰" ë²„íŠ¼ í´ë¦­ ì‹œ í•„í„° íŒ¨ë„ ìŠ¬ë¼ì´ë“œ ë‹¤ìš´
   - í•„í„° ì ìš© ì‹œ ê²€ìƒ‰ì°½ì— íƒœê·¸ë¡œ í‘œì‹œ

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// components/features/UnifiedSearchBar.tsx
interface UnifiedSearchBarProps {
  onSearch: (query: string, filters: SearchFilters) => void;
}

// ê²€ìƒ‰ ëª¨ë“œ ìƒíƒœ ê´€ë¦¬
const [searchMode, setSearchMode] = useState<'simple' | 'advanced'>('simple');
const [parsedFilters, setParsedFilters] = useState<SearchFilters>({});

// ìì—°ì–´ íŒŒì‹± + í•„í„° ì¶”ì¶œ
const handleSearch = (query: string) => {
  const parsed = parseSearchQuery(query);
  const filters = extractFilters(parsed);
  
  // ìì—°ì–´ ë¶€ë¶„ë§Œ ê²€ìƒ‰ì–´ë¡œ, ë‚˜ë¨¸ì§€ëŠ” í•„í„°ë¡œ
  const cleanQuery = removeFilterKeywords(query);
  
  onSearch(cleanQuery, filters);
};
```

**íŒŒì¼ êµ¬ì¡°**:
```
components/features/
  â”œâ”€â”€ UnifiedSearchBar.tsx (ì‹ ê·œ)
  â”œâ”€â”€ SearchHint.tsx (ì‹ ê·œ, íŒŒì‹± íŒíŠ¸ í‘œì‹œ)
  â””â”€â”€ AdvancedFilters.tsx (ê¸°ì¡´ SearchFilters ë¦¬íŒ©í† ë§)
```

#### ì˜µì…˜ B: ê²€ìƒ‰ ëª¨ë“œ ì „í™˜ (ëŒ€ì•ˆ)

**ê°œë…**: ëª…í™•í•œ ëª¨ë“œ ì „í™˜ ë²„íŠ¼ ì œê³µ

**UI êµ¬ì¡°**:
```
[ê²€ìƒ‰ ëª¨ë“œ ì„ íƒ]
  [ìì—°ì–´ ê²€ìƒ‰] [í•„í„° ê²€ìƒ‰] â† íƒ­ ì „í™˜

[ì„ íƒëœ ëª¨ë“œì— ë”°ë¥¸ UI]
```

### 1.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| UnifiedSearchBar ì»´í¬ë„ŒíŠ¸ ê°œë°œ | `components/features/UnifiedSearchBar.tsx` | 1ì¼ | P0 |
| SearchHint ì»´í¬ë„ŒíŠ¸ ê°œë°œ | `components/features/SearchHint.tsx` | 0.5ì¼ | P0 |
| AdvancedFilters ë¦¬íŒ©í† ë§ | `components/features/AdvancedFilters.tsx` | 0.5ì¼ | P0 |
| ê²€ìƒ‰ íŒŒì„œ ê°œì„  (í•„í„° ì¶”ì¶œ) | `lib/search-parser.ts` | 0.5ì¼ | P0 |
| ê²€ìƒ‰ í˜ì´ì§€ í†µí•© | `app/(main)/search/page.tsx` | 0.5ì¼ | P0 |
| ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸ | ì „ì²´ | 0.5ì¼ | P1 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 3.5ì¼

### 1.4 ì„±ê³µ ì§€í‘œ

- ê²€ìƒ‰ ì™„ë£Œìœ¨ ì¦ê°€ (ê²€ìƒ‰ ì‹œì‘ â†’ ê²°ê³¼ í™•ì¸): ëª©í‘œ +20%
- í•„í„° ì‚¬ìš©ë¥ : ëª©í‘œ 30% ì´ìƒ
- ê²€ìƒ‰ ì´íƒˆë¥  ê°ì†Œ: ëª©í‘œ -15%
- ì‚¬ìš©ì ë§Œì¡±ë„ ì„¤ë¬¸: 4.0/5.0 ì´ìƒ

---

## 2. ë©”ì¸í˜ì´ì§€ ì •ë³´ ê³¼ë¶€í•˜ í•´ê²°

### 2.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - ê²€ìƒ‰ í˜ì´ì§€ì—ì„œ í•„í„° ì—†ì„ ë•Œ 7ê°œ ì‚¬ì´íŠ¸ í”„ë¦¬ë·°ë¥¼ ëª¨ë‘ í‘œì‹œ
  - ê° ì„¹ì…˜ë§ˆë‹¤ API í˜¸ì¶œ 5ë²ˆì”© (ì´ 35ë²ˆ ì´ìƒ)
  - ì´ˆê¸° ë¡œë”© ì‹œê°„ ê³¼ë‹¤, ë°ì´í„° ì‚¬ìš©ëŸ‰ ì¦ê°€

- **ì˜í–¥ë„**: ì¤‘ê°„ (ì„±ëŠ¥ ë° ì‚¬ìš©ì ê²½í—˜)
- **ì‚¬ìš©ì ë¶ˆë§Œ**: ëŠë¦° ë¡œë”©, ë¶ˆí•„ìš”í•œ ì •ë³´ ê³¼ë‹¤

### 2.2 ê°œì„ ì•ˆ

#### ì „ëµ: ì ì§„ì  ë¡œë”© + ì‚¬ìš©ì ë§ì¶¤í™”

**êµ¬í˜„ ë°©ì•ˆ**:

1. **ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì„¹ì…˜ í‘œì‹œ**
   - ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜: ìµœê·¼ ê²€ìƒ‰/ë¶ë§ˆí¬í•œ ì‚¬ì´íŠ¸ ìš°ì„ 
   - ì¸ê¸°ë„ ê¸°ë°˜: ìº í˜ì¸ ìˆ˜ê°€ ë§ì€ ì‚¬ì´íŠ¸ ìš°ì„ 
   - ê¸°ë³¸ê°’: ìƒìœ„ 3ê°œ ì‚¬ì´íŠ¸ë§Œ ì¦‰ì‹œ í‘œì‹œ

2. **ì§€ì—° ë¡œë”© (Lazy Loading)**
   - ì´ˆê¸°: 3ê°œ ì„¹ì…˜ë§Œ ë¡œë“œ
   - ìŠ¤í¬ë¡¤ ì‹œ: ë‚˜ë¨¸ì§€ ì„¹ì…˜ ì ì§„ì  ë¡œë“œ
   - "ë” ë§ì€ ì‚¬ì´íŠ¸ ë³´ê¸°" ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€ ë¡œë“œ

3. **API í˜¸ì¶œ ìµœì í™”**
   - ê° ì„¹ì…˜ë‹¹ 1ë²ˆì˜ API í˜¸ì¶œë¡œ í†µí•©
   - ì„œë²„ ì‚¬ì´ë“œì—ì„œ ì¹´í…Œê³ ë¦¬ë³„ë¡œ 1ê°œì”© ì„ ë³„í•˜ì—¬ ë°˜í™˜
   - ìºì‹± ì „ëµ ë„ì… (5ë¶„ TTL)

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// app/(main)/search/page.tsx
const [visibleSections, setVisibleSections] = useState<string[]>([]);
const [loadedSections, setLoadedSections] = useState<Set<string>>(new Set());

// ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ ìš°ì„ ìˆœìœ„ ê³„ì‚°
const getSectionPriority = async (userId: string) => {
  const { data } = await supabase
    .from('search_history')
    .select('site_name')
    .eq('user_id', userId)
    .order('created_at', { ascending: false })
    .limit(10);
  
  // ì‚¬ì´íŠ¸ë³„ ë¹ˆë„ ê³„ì‚°í•˜ì—¬ ìš°ì„ ìˆœìœ„ ë°˜í™˜
  return calculatePriority(data);
};

// ì´ˆê¸° ë¡œë“œ: ìƒìœ„ 3ê°œë§Œ
useEffect(() => {
  const priority = await getSectionPriority(userId);
  setVisibleSections(priority.slice(0, 3));
}, []);

// Intersection Observerë¡œ ìŠ¤í¬ë¡¤ ê°ì§€
const observerRef = useRef<IntersectionObserver>();
useEffect(() => {
  observerRef.current = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        // ë‹¤ìŒ ì„¹ì…˜ ë¡œë“œ
        loadNextSection();
      }
    });
  });
}, []);
```

**API ì—”ë“œí¬ì¸íŠ¸ ê°œì„ **:

```typescript
// app/api/campaigns/featured/route.ts
export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const siteId = searchParams.get('site');
  const limit = parseInt(searchParams.get('limit') || '4');
  
  // ë‹¨ì¼ ì¿¼ë¦¬ë¡œ ì¹´í…Œê³ ë¦¬ë³„ 1ê°œì”© ì„ ë³„
  const { data } = await supabase
    .from('campaigns')
    .select('*')
    .eq('site_name', siteId)
    .eq('is_active', true)
    .gte('application_deadline', new Date().toISOString())
    .order('application_deadline', { ascending: true })
    .limit(limit * 5); // ì—¬ìœ ìˆê²Œ ê°€ì ¸ì™€ì„œ
  
  // ì„œë²„ì—ì„œ ì¹´í…Œê³ ë¦¬ë³„ë¡œ 1ê°œì”© ì„ ë³„
  const categorized = categorizeAndSelect(data, limit);
  
  return Response.json({ campaigns: categorized });
}
```

### 2.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| ì„¹ì…˜ ìš°ì„ ìˆœìœ„ ê³„ì‚° ë¡œì§ | `lib/section-priority.ts` | 1ì¼ | P0 |
| ì§€ì—° ë¡œë”© ì»´í¬ë„ŒíŠ¸ | `components/features/LazySection.tsx` | 1ì¼ | P0 |
| API ì—”ë“œí¬ì¸íŠ¸ ìµœì í™” | `app/api/campaigns/featured/route.ts` | 0.5ì¼ | P0 |
| Intersection Observer í›… | `hooks/useIntersectionObserver.ts` | 0.5ì¼ | P1 |
| ìºì‹± ì „ëµ êµ¬í˜„ | `lib/cache.ts` | 1ì¼ | P1 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 4ì¼

### 2.4 ì„±ê³µ ì§€í‘œ

- ì´ˆê¸° ë¡œë”© ì‹œê°„: ëª©í‘œ 50% ê°ì†Œ (í˜„ì¬ 3ì´ˆ â†’ 1.5ì´ˆ)
- API í˜¸ì¶œ ìˆ˜: ëª©í‘œ 70% ê°ì†Œ (35íšŒ â†’ 10íšŒ)
- ì‚¬ìš©ì ìŠ¤í¬ë¡¤ ê¹Šì´: ëª©í‘œ +30%
- ì´íƒˆë¥  ê°ì†Œ: ëª©í‘œ -20%

---

## 3. ëª¨ë°”ì¼ ê²½í—˜ ê°œì„ 

### 3.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - ë°ìŠ¤í¬í†± ì¤‘ì‹¬ ë””ìì¸
  - ëª¨ë°”ì¼ì—ì„œ í•„í„° ì‚¬ìš©ì„± ì €í•˜
  - ìº˜ë¦°ë” ë·° ëª¨ë°”ì¼ ìµœì í™” ë¶€ì¡±
  - í„°ì¹˜ ì œìŠ¤ì²˜ ë¯¸ì§€ì›

- **ì˜í–¥ë„**: ë†’ìŒ (ëª¨ë°”ì¼ ì‚¬ìš©ì ë¹„ì¤‘ ë†’ìŒ)
- **ì‚¬ìš©ì ë¶ˆë§Œ**: ëª¨ë°”ì¼ì—ì„œ ì‚¬ìš©í•˜ê¸° ë¶ˆí¸í•¨

### 3.2 ê°œì„ ì•ˆ

#### ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ì¬ì„¤ê³„

**ì£¼ìš” ê°œì„  ì‚¬í•­**:

1. **í•„í„° UI ëª¨ë°”ì¼ ìµœì í™”**
   - ê¸°ë³¸: í•„í„° ìˆ¨ê¹€
   - "í•„í„°" ë²„íŠ¼ í´ë¦­ ì‹œ ë°”í…€ ì‹œíŠ¸ë¡œ í‘œì‹œ
   - ì ìš©ëœ í•„í„°ëŠ” ìƒë‹¨ì— íƒœê·¸ë¡œ í‘œì‹œ (ìŠ¤ì™€ì´í”„ë¡œ ì œê±°)

2. **ìº˜ë¦°ë” ë·° ëª¨ë°”ì¼ ìµœì í™”**
   - ì›”ë³„ ë·°: í„°ì¹˜ ìŠ¤ì™€ì´í”„ë¡œ ì›” ì „í™˜
   - ì¼ë³„ ë·°: íƒ­ìœ¼ë¡œ ì „í™˜ ê°€ëŠ¥
   - ì´ë²¤íŠ¸ í´ë¦­: ëª¨ë‹¬ë¡œ ìƒì„¸ ì •ë³´ í‘œì‹œ

3. **í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì›**
   - ì¹´ë“œ ìŠ¤ì™€ì´í”„: ë¶ë§ˆí¬ ì¶”ê°€/ì œê±°
   - í’€ íˆ¬ ë¦¬í”„ë ˆì‹œ: ìƒˆë¡œê³ ì¹¨
   - ë¡± í”„ë ˆìŠ¤: ë¹ ë¥¸ ì•¡ì…˜ ë©”ë‰´

4. **ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ê°œì„ **
   - ê·¸ë¦¬ë“œ: ëª¨ë°”ì¼ 1ì—´, íƒœë¸”ë¦¿ 2ì—´, ë°ìŠ¤í¬í†± 3-4ì—´
   - í…ìŠ¤íŠ¸ í¬ê¸°: ëª¨ë°”ì¼ì—ì„œ ê°€ë…ì„± í–¥ìƒ
   - í„°ì¹˜ íƒ€ê²Ÿ: ìµœì†Œ 44x44px

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// components/features/MobileFilterSheet.tsx
'use client';

import { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from '@/components/ui/sheet';

export function MobileFilterSheet({ filters, onFiltersChange }: Props) {
  return (
    <Sheet>
      <SheetTrigger asChild>
        <Button variant="outline" className="md:hidden">
          í•„í„°
        </Button>
      </SheetTrigger>
      <SheetContent side="bottom" className="h-[80vh]">
        <SheetHeader>
          <SheetTitle>í•„í„°</SheetTitle>
        </SheetHeader>
        <SearchFilters filters={filters} onFiltersChange={onFiltersChange} />
      </SheetContent>
    </Sheet>
  );
}

// hooks/useSwipeGesture.ts
export function useSwipeGesture(onSwipeLeft?: () => void, onSwipeRight?: () => void) {
  const [touchStart, setTouchStart] = useState<number | null>(null);
  const [touchEnd, setTouchEnd] = useState<number | null>(null);

  const minSwipeDistance = 50;

  const onTouchStart = (e: TouchEvent) => {
    setTouchEnd(null);
    setTouchStart(e.targetTouches[0].clientX);
  };

  const onTouchMove = (e: TouchEvent) => {
    setTouchEnd(e.targetTouches[0].clientX);
  };

  const onTouchEnd = () => {
    if (!touchStart || !touchEnd) return;
    
    const distance = touchStart - touchEnd;
    const isLeftSwipe = distance > minSwipeDistance;
    const isRightSwipe = distance < -minSwipeDistance;

    if (isLeftSwipe && onSwipeLeft) onSwipeLeft();
    if (isRightSwipe && onSwipeRight) onSwipeRight();
  };

  return { onTouchStart, onTouchMove, onTouchEnd };
}
```

**ë°˜ì‘í˜• ìœ í‹¸ë¦¬í‹°**:

```typescript
// lib/responsive.ts
export const breakpoints = {
  mobile: '640px',
  tablet: '768px',
  desktop: '1024px',
};

// Tailwind CSS í´ë˜ìŠ¤ ì˜ˆì‹œ
<div className="
  grid 
  grid-cols-1 
  sm:grid-cols-2 
  lg:grid-cols-3 
  xl:grid-cols-4
  gap-4
">
```

### 3.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| MobileFilterSheet ì»´í¬ë„ŒíŠ¸ | `components/features/MobileFilterSheet.tsx` | 1ì¼ | P0 |
| ëª¨ë°”ì¼ ìº˜ë¦°ë” ë·° ê°œì„  | `components/features/Calendar.tsx` | 1.5ì¼ | P0 |
| í„°ì¹˜ ì œìŠ¤ì²˜ í›… | `hooks/useSwipeGesture.ts` | 1ì¼ | P1 |
| ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì „ë©´ ê°œì„  | ì „ì²´ ì»´í¬ë„ŒíŠ¸ | 2ì¼ | P0 |
| ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ (ì‹¤ê¸°ê¸°) | ì „ì²´ | 1ì¼ | P1 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 6.5ì¼

### 3.4 ì„±ê³µ ì§€í‘œ

- ëª¨ë°”ì¼ ì‚¬ìš©ì ë¹„ì¤‘: ëª©í‘œ 60% ì´ìƒ
- ëª¨ë°”ì¼ ì´íƒˆë¥ : ëª©í‘œ -25%
- ëª¨ë°”ì¼ í‰ê·  ì„¸ì…˜ ì‹œê°„: ëª©í‘œ +30%
- ëª¨ë°”ì¼ ì‚¬ìš©ì ë§Œì¡±ë„: 4.0/5.0 ì´ìƒ

---

## 4. ë¶ë§ˆí¬ â†’ ì„ ì • í”Œë¡œìš° ê°œì„ 

### 4.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - ì‚¬ìš©ìê°€ ì§ì ‘ ë‹¹ì²¨ ì—¬ë¶€ë¥¼ ì…ë ¥í•´ì•¼ í•¨
  - ì‹¤ì œ ë‹¹ì²¨ ì—¬ë¶€ëŠ” ì›ë³¸ ì‚¬ì´íŠ¸ì—ì„œ í™•ì¸í•´ì•¼ í•˜ëŠ”ë°, ìˆ˜ë™ ì…ë ¥ êµ¬ì¡°
  - ì‚¬ìš©ìê°€ ì„ ì •ì„ ì˜ëª» ì…ë ¥í•˜ê±°ë‚˜ ëˆ„ë½í•  ê°€ëŠ¥ì„± ë†’ìŒ

- **ì˜í–¥ë„**: ë†’ìŒ (í•µì‹¬ ê¸°ëŠ¥)
- **ì‚¬ìš©ì ë¶ˆë§Œ**: ìˆ˜ë™ ì…ë ¥ì˜ ë¶ˆí¸í•¨, ì‹¤ìˆ˜ ê°€ëŠ¥ì„±

### 4.2 ê°œì„ ì•ˆ

#### ì „ëµ: ìë™í™” + ì‚¬ìš©ì í™•ì¸

**êµ¬í˜„ ë°©ì•ˆ**:

1. **ì›ë³¸ ì‚¬ì´íŠ¸ í¬ë¡¤ë§ìœ¼ë¡œ ë‹¹ì²¨ ì—¬ë¶€ ìë™ í™•ì¸**
   - ì‚¬ìš©ìê°€ "ë‹¹ì²¨ í™•ì¸" ë²„íŠ¼ í´ë¦­
   - ì›ë³¸ ì‚¬ì´íŠ¸ì˜ "ë‚´ ì‹ ì²­ ë‚´ì—­" í˜ì´ì§€ í¬ë¡¤ë§
   - ë‹¹ì²¨ ì—¬ë¶€ ìë™ ê°ì§€ ë° ì—…ë°ì´íŠ¸

2. **ë‹¹ì²¨ ì•Œë¦¼ ì‹œìŠ¤í…œ**
   - ì‚¬ìš©ìê°€ ë¶ë§ˆí¬í•œ ì²´í—˜ë‹¨ì˜ ì‹ ì²­ ë§ˆê°ì¼ + 1ì¼ í›„
   - ìë™ìœ¼ë¡œ ì›ë³¸ ì‚¬ì´íŠ¸ í™•ì¸ ìš”ì²­
   - ë‹¹ì²¨ ì‹œ ì•Œë¦¼ ë°œì†¡ (ì´ë©”ì¼/í‘¸ì‹œ)

3. **ìˆ˜ë™ ì…ë ¥ ì˜µì…˜ ìœ ì§€**
   - ìë™ í™•ì¸ ì‹¤íŒ¨ ì‹œ ìˆ˜ë™ ì…ë ¥ ê°€ëŠ¥
   - ì‚¬ìš©ìê°€ ì§ì ‘ í™•ì¸í•œ ê²½ìš° ìˆ˜ë™ ì…ë ¥

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// app/api/applications/[id]/check-selection/route.ts
export async function POST(
  request: Request,
  { params }: { params: { id: string } }
) {
  const application = await getApplication(params.id);
  const user = await getCurrentUser();
  
  // ì›ë³¸ ì‚¬ì´íŠ¸ë³„ í¬ë¡¤ëŸ¬ í˜¸ì¶œ
  const checker = getSelectionChecker(application.campaigns.source);
  const isSelected = await checker.checkSelection(
    user,
    application.campaigns.source_url
  );
  
  if (isSelected) {
    // ìë™ìœ¼ë¡œ ì„ ì • ì²˜ë¦¬
    await updateApplicationStatus(params.id, 'selected', {
      auto_detected: true,
      detected_at: new Date().toISOString(),
    });
    
    // ìº˜ë¦°ë” ì—°ë™ë„ ìë™ ì‹¤í–‰
    await syncToGoogleCalendar(params.id);
  }
  
  return Response.json({ isSelected });
}

// lib/selection-checkers/reviewnote-checker.ts
export class ReviewNoteSelectionChecker {
  async checkSelection(user: User, campaignUrl: string): Promise<boolean> {
    // ë„¤ì´ë²„ ë¡œê·¸ì¸ ì„¸ì…˜ í™œìš©
    const session = await getNaverSession(user.id);
    
    // ì›ë³¸ ì‚¬ì´íŠ¸ì˜ "ë‚´ ì‹ ì²­ ë‚´ì—­" í˜ì´ì§€ í¬ë¡¤ë§
    const response = await fetch(campaignUrl, {
      headers: {
        'Cookie': session.cookie,
      },
    });
    
    const html = await response.text();
    // HTML íŒŒì‹±í•˜ì—¬ ë‹¹ì²¨ ì—¬ë¶€ í™•ì¸
    return parseSelectionStatus(html);
  }
}
```

**ë‹¹ì²¨ ì•Œë¦¼ ìŠ¤ì¼€ì¤„ëŸ¬**:

```typescript
// app/api/cron/check-selections/route.ts
export async function GET(request: Request) {
  // ì¸ì¦: Vercel Cron Secret
  const authHeader = request.headers.get('authorization');
  if (authHeader !== `Bearer ${process.env.CRON_SECRET}`) {
    return new Response('Unauthorized', { status: 401 });
  }
  
  // ì‹ ì²­ ë§ˆê°ì¼ì´ ì–´ì œì¸ ëª¨ë“  ë¶ë§ˆí¬ ì¡°íšŒ
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  
  const { data: applications } = await supabase
    .from('applications')
    .select('*, campaigns(*)')
    .eq('status', 'bookmarked')
    .gte('campaigns.application_deadline', yesterday.toISOString().split('T')[0])
    .lt('campaigns.application_deadline', new Date().toISOString().split('T')[0]);
  
  // ê° ì‹ ì²­ì— ëŒ€í•´ ë‹¹ì²¨ ì—¬ë¶€ í™•ì¸
  for (const app of applications) {
    await checkAndNotifySelection(app);
  }
  
  return Response.json({ checked: applications.length });
}
```

### 4.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| ë‹¹ì²¨ í™•ì¸ API ì—”ë“œí¬ì¸íŠ¸ | `app/api/applications/[id]/check-selection/route.ts` | 1ì¼ | P0 |
| ì‚¬ì´íŠ¸ë³„ ë‹¹ì²¨ í™•ì¸ í¬ë¡¤ëŸ¬ | `lib/selection-checkers/*.ts` | 3ì¼ | P0 |
| ë‹¹ì²¨ ì•Œë¦¼ ìŠ¤ì¼€ì¤„ëŸ¬ | `app/api/cron/check-selections/route.ts` | 1ì¼ | P1 |
| UI: ë‹¹ì²¨ í™•ì¸ ë²„íŠ¼ | `components/features/CheckSelectionButton.tsx` | 0.5ì¼ | P0 |
| ì´ë©”ì¼ ì•Œë¦¼ í…œí”Œë¦¿ | `lib/email-templates/selection-notification.ts` | 0.5ì¼ | P1 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 6ì¼

### 4.4 ì„±ê³µ ì§€í‘œ

- ìë™ ë‹¹ì²¨ í™•ì¸ ì„±ê³µë¥ : ëª©í‘œ 80% ì´ìƒ
- ìˆ˜ë™ ì…ë ¥ ë¹„ìœ¨ ê°ì†Œ: ëª©í‘œ -60%
- ë‹¹ì²¨ ëˆ„ë½ë¥  ê°ì†Œ: ëª©í‘œ -50%
- ì‚¬ìš©ì ë§Œì¡±ë„: 4.5/5.0 ì´ìƒ

---

## 5. ë¦¬ë·° ë§ˆê°ì¼ ê³„ì‚° ê°œì„ 

### 5.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - "ì„ ì •ì¼ = ì‹ ì²­ ë§ˆê°ì¼ + 1ì¼" ê°€ì •ì´ ëª¨ë“  ì‚¬ì´íŠ¸ì— ì ìš© ì•ˆ ë¨
  - `review_deadline_days` ì—†ìœ¼ë©´ ì‚¬ìš©ì ì§ì ‘ ì…ë ¥ í•„ìš”
  - í•µì‹¬ ê°€ì¹˜ í›¼ì†

- **ì˜í–¥ë„**: ë†’ìŒ (í•µì‹¬ ê¸°ëŠ¥)
- **ì‚¬ìš©ì ë¶ˆë§Œ**: ìˆ˜ë™ ì…ë ¥ì˜ ë¶ˆí¸í•¨

### 5.2 ê°œì„ ì•ˆ

#### ì „ëµ: ì‚¬ì´íŠ¸ë³„ íŒ¨í„´ í•™ìŠµ + ì‚¬ìš©ì í”¼ë“œë°±

**êµ¬í˜„ ë°©ì•ˆ**:

1. **ì‚¬ì´íŠ¸ë³„ ì„ ì •ì¼ íŒ¨í„´ ë°ì´í„°ë² ì´ìŠ¤**
   - ê° ì‚¬ì´íŠ¸ì˜ ì‹¤ì œ ì„ ì •ì¼ íŒ¨í„´ ìˆ˜ì§‘
   - í†µê³„ì  ë¶„ì„ìœ¼ë¡œ í‰ê·  ì„ ì •ì¼ ê³„ì‚°
   - ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¡œ ì§€ì† í•™ìŠµ

2. **ë¦¬ë·° ê¸°ê°„ ì •ë³´ í¬ë¡¤ë§ ê°•í™”**
   - í¬ë¡¤ëŸ¬ì—ì„œ ë¦¬ë·° ê¸°ê°„ ì •ë³´ ì¶”ì¶œ ìš°ì„ ìˆœìœ„ ë†’ì„
   - ì—†ëŠ” ê²½ìš° ì‚¬ì´íŠ¸ë³„ ê¸°ë³¸ê°’ ì‚¬ìš©

3. **ì‚¬ìš©ì í”¼ë“œë°± ì‹œìŠ¤í…œ**
   - ê³„ì‚°ëœ ë§ˆê°ì¼ì´ í‹€ë ¸ì„ ê²½ìš° ì‚¬ìš©ì ìˆ˜ì • ê°€ëŠ¥
   - ìˆ˜ì • ë°ì´í„°ë¥¼ í•™ìŠµ ë°ì´í„°ë¡œ í™œìš©

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// lib/review-deadline-calculator.ts
interface SitePattern {
  site_name: string;
  average_selection_delay_days: number; // ì‹ ì²­ ë§ˆê°ì¼ë¡œë¶€í„° í‰ê·  ë©°ì¹  í›„ ì„ ì •
  review_period_days: number | null; // ê¸°ë³¸ ë¦¬ë·° ê¸°ê°„
}

const SITE_PATTERNS: Record<string, SitePattern> = {
  reviewnote: {
    site_name: 'reviewnote',
    average_selection_delay_days: 1.5, // í‰ê·  1.5ì¼ í›„
    review_period_days: 7, // ê¸°ë³¸ 7ì¼
  },
  dinnerqueen: {
    site_name: 'dinnerqueen',
    average_selection_delay_days: 2,
    review_period_days: 10,
  },
  // ...
};

export function calculateReviewDeadline(
  campaign: Campaign,
  selectionDate?: Date
): Date {
  // 1. í¬ë¡¤ë§ëœ review_deadline_days ìš°ì„  ì‚¬ìš©
  if (campaign.review_deadline_days) {
    const baseDate = selectionDate || estimateSelectionDate(campaign);
    const deadline = new Date(baseDate);
    deadline.setDate(deadline.getDate() + campaign.review_deadline_days);
    return deadline;
  }
  
  // 2. ì‚¬ì´íŠ¸ë³„ ê¸°ë³¸ê°’ ì‚¬ìš©
  const pattern = SITE_PATTERNS[campaign.source];
  if (pattern?.review_period_days) {
    const baseDate = selectionDate || estimateSelectionDate(campaign);
    const deadline = new Date(baseDate);
    deadline.setDate(deadline.getDate() + pattern.review_period_days);
    return deadline;
  }
  
  // 3. ê¸°ë³¸ê°’ (7ì¼)
  const baseDate = selectionDate || new Date();
  const deadline = new Date(baseDate);
  deadline.setDate(deadline.getDate() + 7);
  return deadline;
}

function estimateSelectionDate(campaign: Campaign): Date {
  if (!campaign.application_deadline) {
    return new Date(); // ì˜¤ëŠ˜ ê¸°ì¤€
  }
  
  const pattern = SITE_PATTERNS[campaign.source];
  const deadline = new Date(campaign.application_deadline);
  const delayDays = pattern?.average_selection_delay_days || 1;
  
  deadline.setDate(deadline.getDate() + delayDays);
  return deadline;
}

// ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
// app/api/applications/[id]/feedback/route.ts
export async function POST(
  request: Request,
  { params }: { params: { id: string } }
) {
  const { actual_deadline, was_correct } = await request.json();
  
  // í”¼ë“œë°± ì €ì¥
  await supabase.from('review_deadline_feedback').insert({
    application_id: params.id,
    calculated_deadline: calculated,
    actual_deadline,
    was_correct,
    campaign_source: campaign.source,
  });
  
  // íŒ¨í„´ ì—…ë°ì´íŠ¸ (ì£¼ê¸°ì ìœ¼ë¡œ ë°°ì¹˜ ì‘ì—…ìœ¼ë¡œ)
  // ...
}
```

**í•™ìŠµ ë°ì´í„° ìˆ˜ì§‘**:

```typescript
// scripts/update-site-patterns.ts
// ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ ì‚¬ì´íŠ¸ë³„ íŒ¨í„´ ì—…ë°ì´íŠ¸

export async function updateSitePatterns() {
  const sites = Object.keys(SITE_PATTERNS);
  
  for (const site of sites) {
    const { data: feedbacks } = await supabase
      .from('review_deadline_feedback')
      .select('*')
      .eq('campaign_source', site)
      .limit(100);
    
    // í†µê³„ ê³„ì‚°
    const avgDelay = calculateAverageDelay(feedbacks);
    const avgReviewPeriod = calculateAverageReviewPeriod(feedbacks);
    
    // íŒ¨í„´ ì—…ë°ì´íŠ¸
    await updatePattern(site, {
      average_selection_delay_days: avgDelay,
      review_period_days: avgReviewPeriod,
    });
  }
}
```

### 5.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| ë¦¬ë·° ë§ˆê°ì¼ ê³„ì‚°ê¸° ê°œì„  | `lib/review-deadline-calculator.ts` | 1.5ì¼ | P0 |
| ì‚¬ì´íŠ¸ë³„ íŒ¨í„´ ë°ì´í„°ë² ì´ìŠ¤ | `lib/site-patterns.ts` | 1ì¼ | P0 |
| í”¼ë“œë°± ìˆ˜ì§‘ API | `app/api/applications/[id]/feedback/route.ts` | 0.5ì¼ | P1 |
| íŒ¨í„´ í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸ | `scripts/update-site-patterns.ts` | 1ì¼ | P1 |
| í¬ë¡¤ëŸ¬ ë¦¬ë·° ê¸°ê°„ ì¶”ì¶œ ê°•í™” | `crawler/sites/*.py` | 2ì¼ | P0 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 6ì¼

### 5.4 ì„±ê³µ ì§€í‘œ

- ìë™ ê³„ì‚° ì •í™•ë„: ëª©í‘œ 85% ì´ìƒ
- ì‚¬ìš©ì ìˆ˜ì • ë¹„ìœ¨ ê°ì†Œ: ëª©í‘œ -70%
- ë¦¬ë·° ë§ˆê°ì¼ ë†“ì¹¨ë¥  ê°ì†Œ: ëª©í‘œ -80%

---

## 6. êµ¬ê¸€ ìº˜ë¦°ë” ì—°ë™ ì‹¤ìš©ì„± í–¥ìƒ

### 6.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - ìº˜ë¦°ë”ì— ì¼ì • ë“±ë¡ë§Œ í•˜ê³  ë
  - ë¦¬ë·° ì‘ì„± ì•Œë¦¼, í…œí”Œë¦¿ ì œê³µ ì—†ìŒ
  - ì‹¤ìš©ì„± ë¶€ì¡±

- **ì˜í–¥ë„**: ì¤‘ê°„ (í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥)
- **ì‚¬ìš©ì ë¶ˆë§Œ**: ìº˜ë¦°ë” ì—°ë™ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•¨

### 6.2 ê°œì„ ì•ˆ

#### ì „ëµ: ë¦¬ë·° ì‘ì„± ì§€ì› ì‹œìŠ¤í…œ

**êµ¬í˜„ ë°©ì•ˆ**:

1. **ë¦¬ë·° ì‘ì„± ì•Œë¦¼**
   - ë¦¬ë·° ë§ˆê°ì¼ D-3, D-1, D-day ì•Œë¦¼
   - ì´ë©”ì¼ + êµ¬ê¸€ ìº˜ë¦°ë” ì•Œë¦¼

2. **ë¦¬ë·° í…œí”Œë¦¿ ì œê³µ**
   - ì²´í—˜ë‹¨ë³„ ë¦¬ë·° ì‘ì„± ê°€ì´ë“œ
   - í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ (ë§ˆí¬ë‹¤ìš´/ì›Œë“œ)

3. **ë¦¬ë·° ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸**
   - í•„ìˆ˜ í•­ëª© ì²´í¬ë¦¬ìŠ¤íŠ¸
   - ì§„í–‰ ìƒí™© ì¶”ì 

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// lib/review-assistant.ts
export interface ReviewTemplate {
  campaign_id: string;
  sections: ReviewSection[];
  checklist: ChecklistItem[];
}

export interface ReviewSection {
  title: string;
  description: string;
  example?: string;
  required: boolean;
}

// ë¦¬ë·° í…œí”Œë¦¿ ìƒì„±
export function generateReviewTemplate(campaign: Campaign): ReviewTemplate {
  const baseTemplate = getBaseTemplate(campaign.category);
  
  // ì²´í—˜ë‹¨ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§•
  return {
    campaign_id: campaign.id,
    sections: [
      ...baseTemplate.sections,
      ...getCustomSections(campaign),
    ],
    checklist: [
      { item: 'ì‚¬ì§„ 3ì¥ ì´ìƒ', required: true },
      { item: 'ì²´í—˜ ë‚´ìš© ìƒì„¸ ì‘ì„±', required: true },
      { item: 'ì›ë³¸ ë§í¬ ì²¨ë¶€', required: true },
      // ...
    ],
  };
}

// ì•Œë¦¼ ìŠ¤ì¼€ì¤„ëŸ¬
// app/api/cron/review-reminders/route.ts
export async function GET(request: Request) {
  // ì¸ì¦ í™•ì¸
  // ...
  
  // D-3, D-1, D-day ì²´í¬
  const today = new Date();
  const deadlines = [3, 1, 0].map(days => {
    const date = new Date(today);
    date.setDate(date.getDate() + days);
    return date.toISOString().split('T')[0];
  });
  
  const { data: applications } = await supabase
    .from('applications')
    .select('*, campaigns(*), users(*)')
    .eq('status', 'selected')
    .in('review_deadline', deadlines)
    .eq('reminder_sent', false);
  
  for (const app of applications) {
    await sendReviewReminder(app);
  }
  
  return Response.json({ sent: applications.length });
}

// ì´ë©”ì¼ ì•Œë¦¼
// lib/email-templates/review-reminder.ts
export function generateReviewReminderEmail(application: Application) {
  const template = generateReviewTemplate(application.campaigns);
  
  return {
    subject: `[ìº˜ë¦¬ë·°] ë¦¬ë·° ë§ˆê°ì¼ì´ ${calculateDday(application.review_deadline)}ì…ë‹ˆë‹¤`,
    html: `
      <h2>ë¦¬ë·° ì‘ì„± ì•ˆë‚´</h2>
      <p>ì²´í—˜ë‹¨: ${application.campaigns.title}</p>
      <p>ë¦¬ë·° ë§ˆê°ì¼: ${formatDate(application.review_deadline)}</p>
      
      <h3>ë¦¬ë·° ì‘ì„± ê°€ì´ë“œ</h3>
      ${template.sections.map(section => `
        <div>
          <h4>${section.title}</h4>
          <p>${section.description}</p>
        </div>
      `).join('')}
      
      <h3>ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
      <ul>
        ${template.checklist.map(item => `
          <li>${item.required ? 'âœ“' : 'â—‹'} ${item.item}</li>
        `).join('')}
      </ul>
      
      <a href="${getReviewTemplateUrl(application.id)}">í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ</a>
    `,
  };
}
```

**UI ì»´í¬ë„ŒíŠ¸**:

```typescript
// components/features/ReviewAssistant.tsx
export function ReviewAssistant({ application }: Props) {
  const template = useReviewTemplate(application.campaigns.id);
  
  return (
    <Card>
      <CardHeader>
        <CardTitle>ë¦¬ë·° ì‘ì„± ê°€ì´ë“œ</CardTitle>
      </CardHeader>
      <CardContent>
        <div className="space-y-4">
          {template.sections.map((section, index) => (
            <div key={index}>
              <h4>{section.title}</h4>
              <p>{section.description}</p>
            </div>
          ))}
        </div>
        
        <div className="mt-6">
          <h4>ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
          <ul>
            {template.checklist.map((item, index) => (
              <li key={index}>
                <Checkbox />
                {item.item}
              </li>
            ))}
          </ul>
        </div>
        
        <Button onClick={downloadTemplate}>
          í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
        </Button>
      </CardContent>
    </Card>
  );
}
```

### 6.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| ë¦¬ë·° í…œí”Œë¦¿ ìƒì„±ê¸° | `lib/review-assistant.ts` | 2ì¼ | P1 |
| ë¦¬ë·° ì•Œë¦¼ ìŠ¤ì¼€ì¤„ëŸ¬ | `app/api/cron/review-reminders/route.ts` | 1ì¼ | P1 |
| ì´ë©”ì¼ í…œí”Œë¦¿ | `lib/email-templates/review-reminder.ts` | 1ì¼ | P1 |
| ReviewAssistant ì»´í¬ë„ŒíŠ¸ | `components/features/ReviewAssistant.tsx` | 1.5ì¼ | P1 |
| í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ | `app/api/review-templates/[id]/route.ts` | 0.5ì¼ | P2 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 6ì¼

### 6.4 ì„±ê³µ ì§€í‘œ

- ë¦¬ë·° ì‘ì„± ì™„ë£Œìœ¨: ëª©í‘œ +25%
- ë¦¬ë·° ë§ˆê°ì¼ ë†“ì¹¨ë¥ : ëª©í‘œ -60%
- í…œí”Œë¦¿ ì‚¬ìš©ë¥ : ëª©í‘œ 40% ì´ìƒ
- ì‚¬ìš©ì ë§Œì¡±ë„: 4.0/5.0 ì´ìƒ

---

## 7. ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë„ì…

### 7.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - "ê²€ìƒ‰ â†’ ë¶ë§ˆí¬ â†’ ì„ ì •" ì „í™˜ìœ¨ ì¶”ì  ë¶ˆê°€
  - A/B í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ ì—†ìŒ
  - ê°œì„  ë°©í–¥ ê²°ì • ì–´ë ¤ì›€

- **ì˜í–¥ë„**: ë†’ìŒ (ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •)
- **ì˜í–¥**: ê°œì„  íš¨ê³¼ ì¸¡ì • ë¶ˆê°€

### 7.2 ê°œì„ ì•ˆ

#### ì „ëµ: Google Analytics 4 + ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸

**êµ¬í˜„ ë°©ì•ˆ**:

1. **Google Analytics 4 ë„ì…**
   - ê¸°ë³¸ í˜ì´ì§€ë·° ì¶”ì 
   - ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ì •ì˜ ë° ì¶”ì 
   - ì „í™˜ ëª©í‘œ ì„¤ì •

2. **í•µì‹¬ ì´ë²¤íŠ¸ ì¶”ì **
   - ê²€ìƒ‰ ì‹¤í–‰
   - ê²€ìƒ‰ ê²°ê³¼ í´ë¦­
   - ë¶ë§ˆí¬ ì¶”ê°€/ì œê±°
   - ì„ ì • ì²˜ë¦¬
   - ìº˜ë¦°ë” ì—°ë™
   - ì›ë³¸ ì‚¬ì´íŠ¸ í´ë¦­

3. **ì „í™˜ í¼ë„ ë¶„ì„**
   - ê²€ìƒ‰ â†’ ìƒì„¸ í˜ì´ì§€
   - ìƒì„¸ â†’ ë¶ë§ˆí¬
   - ë¶ë§ˆí¬ â†’ ì„ ì •
   - ì„ ì • â†’ ì™„ë£Œ

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// lib/analytics.ts
export const GA_MEASUREMENT_ID = process.env.NEXT_PUBLIC_GA_ID;

// Google Analytics ì´ˆê¸°í™”
export function initGA() {
  if (typeof window === 'undefined' || !GA_MEASUREMENT_ID) return;
  
  // gtag ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ
  const script = document.createElement('script');
  script.src = `https://www.googletagmanager.com/gtag/js?id=${GA_MEASUREMENT_ID}`;
  script.async = true;
  document.head.appendChild(script);
  
  window.dataLayer = window.dataLayer || [];
  function gtag(...args: any[]) {
    window.dataLayer.push(args);
  }
  gtag('js', new Date());
  gtag('config', GA_MEASUREMENT_ID);
  
  (window as any).gtag = gtag;
}

// ì´ë²¤íŠ¸ ì¶”ì 
export function trackEvent(
  eventName: string,
  params?: Record<string, any>
) {
  if (typeof window === 'undefined' || !(window as any).gtag) return;
  
  (window as any).gtag('event', eventName, params);
}

// í•µì‹¬ ì´ë²¤íŠ¸ ì •ì˜
export const events = {
  search: (query: string, filters: SearchFilters) => {
    trackEvent('search', {
      search_term: query,
      filters: JSON.stringify(filters),
    });
  },
  
  campaign_click: (campaignId: string, position: number) => {
    trackEvent('campaign_click', {
      campaign_id: campaignId,
      position,
    });
  },
  
  bookmark_add: (campaignId: string) => {
    trackEvent('bookmark_add', { campaign_id: campaignId });
  },
  
  bookmark_remove: (campaignId: string) => {
    trackEvent('bookmark_remove', { campaign_id: campaignId });
  },
  
  selection_mark: (applicationId: string) => {
    trackEvent('selection_mark', { application_id: applicationId });
  },
  
  calendar_sync: (applicationId: string) => {
    trackEvent('calendar_sync', { application_id: applicationId });
  },
  
  original_site_click: (campaignId: string, source: string) => {
    trackEvent('original_site_click', {
      campaign_id: campaignId,
      source,
    });
  },
};

// ì „í™˜ í¼ë„ ì¶”ì 
export function trackConversionFunnel(step: string, data?: any) {
  trackEvent('conversion_funnel', {
    step,
    ...data,
  });
}
```

**ì»´í¬ë„ŒíŠ¸ì— í†µí•©**:

```typescript
// components/features/CampaignCard.tsx
import { events } from '@/lib/analytics';

export function CampaignCard({ campaign, position }: Props) {
  const handleClick = () => {
    events.campaign_click(campaign.id, position);
    router.push(`/campaign/${campaign.id}`);
  };
  
  // ...
}

// components/features/BookmarkButton.tsx
export function BookmarkButton({ campaign }: Props) {
  const handleBookmark = async () => {
    if (isBookmarked) {
      await removeBookmark();
      events.bookmark_remove(campaign.id);
    } else {
      await addBookmark();
      events.bookmark_add(campaign.id);
    }
  };
}
```

**ëŒ€ì‹œë³´ë“œ êµ¬ì¶•** (ì„ íƒ):

```typescript
// app/(main)/admin/analytics/page.tsx
export default function AnalyticsDashboard() {
  // Google Analytics APIë¡œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  // ë˜ëŠ” Supabaseì— ì´ë²¤íŠ¸ ì €ì¥ í›„ ë¶„ì„
  
  return (
    <div>
      <h1>ì‚¬ìš©ì í–‰ë™ ë¶„ì„</h1>
      <ConversionFunnel />
      <EventMetrics />
      <UserJourney />
    </div>
  );
}
```

### 7.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| Google Analytics ì´ˆê¸°í™” | `lib/analytics.ts` | 0.5ì¼ | P0 |
| ì´ë²¤íŠ¸ ì¶”ì  í•¨ìˆ˜ | `lib/analytics.ts` | 1ì¼ | P0 |
| ì»´í¬ë„ŒíŠ¸ì— ì´ë²¤íŠ¸ í†µí•© | ì „ì²´ ì»´í¬ë„ŒíŠ¸ | 1.5ì¼ | P0 |
| ì „í™˜ í¼ë„ ì¶”ì  | `lib/analytics.ts` | 0.5ì¼ | P1 |
| ë¶„ì„ ëŒ€ì‹œë³´ë“œ (ì„ íƒ) | `app/(main)/admin/analytics/page.tsx` | 2ì¼ | P2 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 5.5ì¼

### 7.4 ì„±ê³µ ì§€í‘œ

- ì´ë²¤íŠ¸ ì¶”ì  ì»¤ë²„ë¦¬ì§€: ëª©í‘œ 100%
- ì „í™˜ í¼ë„ ê°€ì‹œì„±: ëª¨ë“  ë‹¨ê³„ ì¶”ì  ê°€ëŠ¥
- ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •: A/B í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

---

## 8. KPI ì¸¡ì • ì‹œìŠ¤í…œ êµ¬ì¶•

### 8.1 ë¬¸ì œ ì •ì˜

- **í˜„ì¬ ë¬¸ì œ**:
  - "ì¬ë°©ë¬¸ìœ¨ 40% ì´ìƒ" ê°™ì€ ëª©í‘œê°€ ê²€ì¦ë˜ì§€ ì•ŠìŒ
  - ì‹¤ì œ ì§€í‘œ ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì—†ìŒ
  - ëª©í‘œ ë‹¬ì„± ì—¬ë¶€ í™•ì¸ ë¶ˆê°€

- **ì˜í–¥ë„**: ë†’ìŒ (ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³µ ì¸¡ì •)
- **ì˜í–¥**: ëª©í‘œ ë‹¬ì„± ì—¬ë¶€ ë¶ˆëª…í™•

### 8.2 ê°œì„ ì•ˆ

#### ì „ëµ: KPI ëŒ€ì‹œë³´ë“œ + ìë™ ë¦¬í¬íŠ¸

**êµ¬í˜„ ë°©ì•ˆ**:

1. **KPI ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**
   - ì¼ë³„/ì£¼ë³„/ì›”ë³„ KPI ì €ì¥
   - ìë™ ê³„ì‚° ë° ì €ì¥

2. **KPI ëŒ€ì‹œë³´ë“œ**
   - ì‹¤ì‹œê°„ ì§€í‘œ í‘œì‹œ
   - ëª©í‘œ ëŒ€ë¹„ ì§„í–‰ë¥ 
   - íŠ¸ë Œë“œ ì°¨íŠ¸

3. **ìë™ ë¦¬í¬íŠ¸**
   - ì£¼ê°„/ì›”ê°„ ë¦¬í¬íŠ¸ ìë™ ìƒì„±
   - ì´ë©”ì¼ ë°œì†¡

**ê¸°ìˆ  êµ¬í˜„**:

```typescript
// lib/kpi-calculator.ts
export interface KPIMetrics {
  date: string;
  mau: number; // Monthly Active Users
  dau: number; // Daily Active Users
  retention_rate_7d: number; // 7ì¼ ì¬ë°©ë¬¸ìœ¨
  avg_session_duration: number; // í‰ê·  ì„¸ì…˜ ì‹œê°„ (ì´ˆ)
  calendar_sync_rate: number; // ìº˜ë¦°ë” ì—°ë™ë¥ 
  avg_bookmarks_per_user: number; // ì‚¬ìš©ìë‹¹ í‰ê·  ë¶ë§ˆí¬ ìˆ˜
  search_to_detail_ctr: number; // ê²€ìƒ‰ â†’ ìƒì„¸ CTR
  detail_to_bookmark_ctr: number; // ìƒì„¸ â†’ ë¶ë§ˆí¬ CTR
  bookmark_to_selection_ctr: number; // ë¶ë§ˆí¬ â†’ ì„ ì • CTR
  original_site_click_rate: number; // ì›ë³¸ ì‚¬ì´íŠ¸ í´ë¦­ë¥ 
}

export async function calculateDailyKPIs(date: Date): Promise<KPIMetrics> {
  const dateStr = date.toISOString().split('T')[0];
  const startOfMonth = new Date(date.getFullYear(), date.getMonth(), 1);
  
  // MAU ê³„ì‚°
  const { data: mauData } = await supabase
    .from('users')
    .select('id')
    .gte('last_active_at', startOfMonth.toISOString());
  const mau = mauData?.length || 0;
  
  // DAU ê³„ì‚°
  const { data: dauData } = await supabase
    .from('users')
    .select('id')
    .gte('last_active_at', dateStr)
    .lt('last_active_at', new Date(date.getTime() + 86400000).toISOString().split('T')[0]);
  const dau = dauData?.length || 0;
  
  // ì¬ë°©ë¬¸ìœ¨ ê³„ì‚°
  const sevenDaysAgo = new Date(date);
  sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
  
  const { data: returningUsers } = await supabase
    .from('users')
    .select('id')
    .gte('last_active_at', sevenDaysAgo.toISOString())
    .lt('last_active_at', date.toISOString());
  
  const retention_rate_7d = mau > 0 ? (returningUsers?.length || 0) / mau : 0;
  
  // í‰ê·  ì„¸ì…˜ ì‹œê°„
  const { data: sessions } = await supabase
    .from('analytics_events')
    .select('session_id, duration')
    .eq('date', dateStr);
  
  const avg_session_duration = calculateAverage(sessions, 'duration');
  
  // ìº˜ë¦°ë” ì—°ë™ë¥ 
  const { data: usersWithCalendar } = await supabase
    .from('users')
    .select('id')
    .eq('google_calendar_connected', true);
  
  const calendar_sync_rate = mau > 0 ? (usersWithCalendar?.length || 0) / mau : 0;
  
  // ì „í™˜ìœ¨ ê³„ì‚°
  const search_to_detail_ctr = await calculateCTR('search', 'campaign_click', dateStr);
  const detail_to_bookmark_ctr = await calculateCTR('campaign_click', 'bookmark_add', dateStr);
  const bookmark_to_selection_ctr = await calculateCTR('bookmark_add', 'selection_mark', dateStr);
  
  return {
    date: dateStr,
    mau,
    dau,
    retention_rate_7d,
    avg_session_duration,
    calendar_sync_rate,
    avg_bookmarks_per_user: await calculateAvgBookmarks(dateStr),
    search_to_detail_ctr,
    detail_to_bookmark_ctr,
    bookmark_to_selection_ctr,
    original_site_click_rate: await calculateOriginalSiteClickRate(dateStr),
  };
}

// KPI ì €ì¥
export async function saveDailyKPIs(metrics: KPIMetrics) {
  await supabase.from('kpi_metrics').upsert({
    date: metrics.date,
    ...metrics,
    updated_at: new Date().toISOString(),
  });
}

// ìŠ¤ì¼€ì¤„ëŸ¬
// app/api/cron/calculate-kpis/route.ts
export async function GET(request: Request) {
  // ì¸ì¦ í™•ì¸
  // ...
  
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  
  const kpis = await calculateDailyKPIs(yesterday);
  await saveDailyKPIs(kpis);
  
  return Response.json({ kpis });
}
```

**ëŒ€ì‹œë³´ë“œ UI**:

```typescript
// app/(main)/admin/kpi/page.tsx
export default function KPIDashboard() {
  const [kpis, setKPIs] = useState<KPIMetrics[]>([]);
  const [goals, setGoals] = useState<KPIGoals>({
    mau: 5000,
    retention_rate_7d: 0.4,
    avg_session_duration: 180,
    calendar_sync_rate: 0.3,
    // ...
  });
  
  return (
    <div>
      <h1>KPI ëŒ€ì‹œë³´ë“œ</h1>
      
      <div className="grid grid-cols-4 gap-4">
        <KPICard
          title="MAU"
          value={kpis[0]?.mau || 0}
          goal={goals.mau}
          trend={calculateTrend(kpis, 'mau')}
        />
        <KPICard
          title="ì¬ë°©ë¬¸ìœ¨ (7ì¼)"
          value={kpis[0]?.retention_rate_7d || 0}
          goal={goals.retention_rate_7d}
          format="percentage"
        />
        {/* ... */}
      </div>
      
      <KPITrendChart kpis={kpis} />
      <ConversionFunnelChart kpis={kpis} />
    </div>
  );
}
```

### 8.3 ê°œë°œ ì‘ì—…

| ì‘ì—… | íŒŒì¼ | ì˜ˆìƒ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|---------|
| KPI ê³„ì‚° ë¡œì§ | `lib/kpi-calculator.ts` | 2ì¼ | P0 |
| KPI ì €ì¥ ìŠ¤í‚¤ë§ˆ | `supabase/migrations/kpi_metrics.sql` | 0.5ì¼ | P0 |
| KPI ê³„ì‚° ìŠ¤ì¼€ì¤„ëŸ¬ | `app/api/cron/calculate-kpis/route.ts` | 0.5ì¼ | P0 |
| KPI ëŒ€ì‹œë³´ë“œ UI | `app/(main)/admin/kpi/page.tsx` | 2ì¼ | P1 |
| ë¦¬í¬íŠ¸ ìƒì„±ê¸° | `lib/report-generator.ts` | 1ì¼ | P2 |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 6ì¼

### 8.4 ì„±ê³µ ì§€í‘œ

- KPI ì¶”ì  ì»¤ë²„ë¦¬ì§€: ëª©í‘œ 100%
- ì‹¤ì‹œê°„ ì§€í‘œ ê°€ì‹œì„±: ëª©í‘œ ë‹¬ì„±
- ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •: ëª©í‘œ ë‹¬ì„±

---

## ì „ì²´ ì¼ì • ë° ìš°ì„ ìˆœìœ„

### Phase 1: ì¦‰ì‹œ ê°œì„  (P0) - 2ì£¼

1. ê²€ìƒ‰ UX ê°œì„  (3.5ì¼)
2. ë©”ì¸í˜ì´ì§€ ì •ë³´ ê³¼ë¶€í•˜ í•´ê²° (4ì¼)
3. ëª¨ë°”ì¼ ê²½í—˜ ê°œì„  (6.5ì¼)
4. ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë„ì… (5.5ì¼)

**ì´ ê³µìˆ˜**: 19.5ì¼ (ì•½ 4ì£¼)

### Phase 2: í•µì‹¬ ê¸°ëŠ¥ ê°œì„  (P0-P1) - 2ì£¼

5. ë¶ë§ˆí¬ â†’ ì„ ì • í”Œë¡œìš° ê°œì„  (6ì¼)
6. ë¦¬ë·° ë§ˆê°ì¼ ê³„ì‚° ê°œì„  (6ì¼)
7. KPI ì¸¡ì • ì‹œìŠ¤í…œ êµ¬ì¶• (6ì¼)

**ì´ ê³µìˆ˜**: 18ì¼ (ì•½ 3.5ì£¼)

### Phase 3: ì‹¤ìš©ì„± í–¥ìƒ (P1-P2) - 1ì£¼

8. êµ¬ê¸€ ìº˜ë¦°ë” ì—°ë™ ì‹¤ìš©ì„± í–¥ìƒ (6ì¼)

**ì´ ê³µìˆ˜**: 6ì¼ (ì•½ 1ì£¼)

---

## ì˜ˆìƒ ì´ ê³µìˆ˜

- **Phase 1**: 19.5ì¼ (4ì£¼)
- **Phase 2**: 18ì¼ (3.5ì£¼)
- **Phase 3**: 6ì¼ (1ì£¼)

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 43.5ì¼ (ì•½ 8.5ì£¼)

---

## ì„±ê³µ ê¸°ì¤€

### ë‹¨ê¸° (1ê°œì›”)

- ê²€ìƒ‰ UX ê°œì„  ì™„ë£Œ
- ëª¨ë°”ì¼ ê²½í—˜ ê°œì„  ì™„ë£Œ
- ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë„ì… ì™„ë£Œ
- KPI ì¸¡ì • ì‹œìŠ¤í…œ êµ¬ì¶• ì™„ë£Œ

### ì¤‘ê¸° (3ê°œì›”)

- ëª¨ë“  ê°œì„  ì‚¬í•­ ì™„ë£Œ
- ì‚¬ìš©ì ë§Œì¡±ë„ 4.0/5.0 ì´ìƒ
- í•µì‹¬ KPI ëª©í‘œ ë‹¬ì„±

### ì¥ê¸° (6ê°œì›”)

- ë°ì´í„° ê¸°ë°˜ ê°œì„  ì‚¬ì´í´ ì •ì°©
- ì‚¬ìš©ì ì„±ì¥ ì§€ì†
- ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ ë‹¬ì„±

---

## ì°¸ê³  ì‚¬í•­

- ê° ì‘ì—…ì€ ë…ë¦½ì ìœ¼ë¡œ ì§„í–‰ ê°€ëŠ¥í•˜ì§€ë§Œ, ì¼ë¶€ëŠ” ì˜ì¡´ì„±ì´ ìˆìŒ
- ìš°ì„ ìˆœìœ„ëŠ” ì‚¬ìš©ì ì˜í–¥ë„ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •
- ì‹¤ì œ ê°œë°œ ì‹œ ì¼ì • ì¡°ì • ê°€ëŠ¥
- í…ŒìŠ¤íŠ¸ ë° QA ì‹œê°„ì€ ë³„ë„ë¡œ ê³ ë ¤ í•„ìš”

